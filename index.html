<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#E5D0CC">
  <meta name="description" content="料理記録＆彼氏からの食レポアプリ - あなたの料理を記録して、素敵な彼氏たちからのコメントをもらおう">
  <title>Cooking Diary ♡</title>

  <!-- PWA Settings -->
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            base: '#FAFAF9',
            main: '#E5D0CC',
            'main-dark': '#D4B8B2',
            'accent-pink': '#E8B4B8',
            'accent-green': '#A8C4B8',
            'accent-brown': '#B89F8F',
            'accent-beige': '#D4C4B0',
            text: '#4A4A4A',
            'text-light': '#7A7A7A',
          },
          fontFamily: {
            sans: ['"Noto Sans JP"', 'Hiragino Kaku Gothic ProN', 'sans-serif'],
            serif: ['Palatino', 'Palatino Linotype', 'serif'],
          },
          boxShadow: {
            'soft': '0 4px 20px rgba(0, 0, 0, 0.05)',
            'soft-lg': '0 8px 30px rgba(0, 0, 0, 0.08)',
          }
        }
      }
    }
  </script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body class="bg-base text-text font-sans min-h-screen">

  <!-- App Container -->
  <div id="app" class="max-w-lg mx-auto bg-base min-h-screen pb-20">

    <!-- Header -->
    <header class="sticky top-0 z-40 bg-base/95 backdrop-blur-sm border-b border-main/30 px-4 py-3">
      <div class="flex items-center justify-between">
        <h1 class="font-serif text-xl text-accent-brown tracking-wide">Cooking Diary</h1>
        <div id="header-date" class="text-sm text-text-light font-serif"></div>
      </div>
    </header>

    <!-- Pages Container -->
    <main id="pages-container" class="relative">

      <!-- Page: Calendar (Home) -->
      <section id="page-calendar" class="page active px-4 py-6">
        <div class="flex items-center justify-between mb-6">
          <button id="prev-month"
            class="w-10 h-10 rounded-full bg-main/50 hover:bg-main flex items-center justify-center transition-colors">
            <svg class="w-5 h-5 text-text" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
          </button>
          <h2 id="calendar-title" class="font-serif text-lg text-text"></h2>
          <button id="next-month"
            class="w-10 h-10 rounded-full bg-main/50 hover:bg-main flex items-center justify-center transition-colors">
            <svg class="w-5 h-5 text-text" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </button>
        </div>

        <!-- Calendar Grid -->
        <div class="bg-white rounded-3xl shadow-soft p-4">
          <div class="grid grid-cols-7 gap-1 mb-2">
            <div class="text-center text-xs text-accent-pink font-medium py-2">日</div>
            <div class="text-center text-xs text-text-light font-medium py-2">月</div>
            <div class="text-center text-xs text-text-light font-medium py-2">火</div>
            <div class="text-center text-xs text-text-light font-medium py-2">水</div>
            <div class="text-center text-xs text-text-light font-medium py-2">木</div>
            <div class="text-center text-xs text-text-light font-medium py-2">金</div>
            <div class="text-center text-xs text-accent-green font-medium py-2">土</div>
          </div>
          <div id="calendar-grid" class="grid grid-cols-7 gap-1">
            <!-- Calendar days will be generated by JavaScript -->
          </div>
        </div>

        <!-- Today's Lucky Menu & Partner's Comment -->
        <div class="mt-4 space-y-4">
          <!-- Today's Lucky Menu -->
          <div id="lucky-menu-section" class="lucky-menu-card bg-white rounded-2xl shadow-soft p-4">
            <h3 class="text-sm font-medium text-text-light mb-3 flex items-center gap-2">
              <span>🍀</span> Today's Lucky Menu
            </h3>
            <div id="lucky-menu-content" class="text-center">
              <!-- Will be generated by JavaScript -->
            </div>
          </div>

          <!-- Partner's Comment (hidden in simple mode) -->
          <div id="partner-comment-section" class="partner-comment-card bg-white rounded-2xl shadow-soft p-4">
            <h3 class="text-sm font-medium text-text-light mb-3 flex items-center gap-2">
              <span>💬</span> Partner's Comment
            </h3>
            <div id="partner-comment-content" class="flex items-start gap-3">
              <!-- Will be generated by JavaScript -->
            </div>
          </div>
        </div>
      </section>

      <!-- Page: Detail -->
      <section id="page-detail" class="page px-4 py-6">
        <button id="back-to-calendar"
          class="flex items-center gap-2 text-text-light hover:text-text mb-6 transition-colors">
          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
          <span class="text-sm">カレンダーに戻る</span>
        </button>

        <div id="detail-date-title" class="font-serif text-xl text-accent-brown mb-6"></div>

        <!-- Input Mode -->
        <div id="detail-input-mode" class="space-y-6">
          <!-- Image Upload -->
          <div class="bg-white rounded-3xl shadow-soft p-6">
            <label class="block text-sm font-medium text-text mb-3">料理の写真</label>
            <div id="image-upload-area"
              class="relative border-2 border-dashed border-main rounded-2xl aspect-square flex flex-col items-center justify-center cursor-pointer hover:bg-main/10 transition-colors overflow-hidden">
              <div id="image-placeholder" class="text-center p-6">
                <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-main/50 flex items-center justify-center">
                  <svg class="w-8 h-8 text-accent-brown" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                </div>
                <p class="text-sm text-text-light">タップして写真を選択</p>
                <p class="text-xs text-text-light/70 mt-1">正方形（1:1）推奨</p>
              </div>
              <img id="image-preview" class="absolute inset-0 w-full h-full object-cover hidden" alt="プレビュー">
              <input type="file" id="image-input" accept="image/*" class="hidden">
            </div>
          </div>

          <!-- Text Input -->
          <div class="bg-white rounded-3xl shadow-soft p-6">
            <label for="meal-text" class="block text-sm font-medium text-text mb-3">メモ</label>
            <textarea id="meal-text"
              class="w-full h-24 p-4 bg-base rounded-2xl border border-main/30 focus:border-accent-pink focus:ring-2 focus:ring-accent-pink/20 outline-none transition-all resize-none text-sm"
              placeholder="今日作った料理について..."></textarea>
          </div>

          <!-- Submit Button -->
          <button id="submit-to-ai"
            class="w-full py-4 bg-gradient-to-r from-accent-pink to-main rounded-2xl text-white font-medium shadow-soft hover:shadow-soft-lg transition-all transform hover:scale-[1.02] active:scale-[0.98]">
            ✨ AIに報告する
          </button>
        </div>

        <!-- View Mode -->
        <div id="detail-view-mode" class="hidden space-y-6">
          <!-- Image Display -->
          <div class="bg-white rounded-3xl shadow-soft overflow-hidden">
            <img id="view-image" class="w-full aspect-square object-cover" alt="料理の写真">
          </div>

          <!-- Tags -->
          <div id="view-tags">
            <!-- Tags will be generated by JavaScript -->
          </div>

          <!-- Memo Section -->
          <div id="view-memo-container">
            <!-- Memo will be generated by JavaScript -->
          </div>

          <!-- Character Comment -->
          <div id="character-comment" class="bg-white rounded-3xl shadow-soft p-6">
            <div class="flex flex-col items-center gap-4">
              <div id="comment-avatar" class="w-32 h-32 rounded-full bg-main overflow-hidden shadow-soft">
                <img id="comment-avatar-img" class="w-full h-full object-cover" alt="">
              </div>
              <div id="comment-name" class="font-medium text-accent-brown text-center"></div>
              <div id="comment-bubble" class="w-full bg-main/30 rounded-2xl p-4">
                <p id="comment-text" class="text-sm leading-relaxed text-center"></p>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="flex gap-3">
            <button id="edit-entry"
              class="flex-1 py-3 bg-white border border-main rounded-2xl text-text font-medium hover:bg-main/20 transition-colors">
              編集
            </button>
            <button id="delete-entry"
              class="flex-1 py-3 bg-white border border-accent-pink/50 rounded-2xl text-accent-pink font-medium hover:bg-accent-pink/10 transition-colors">
              削除
            </button>
          </div>
        </div>
      </section>

      <!-- Page: List -->
      <section id="page-list" class="page px-4 py-6">
        <h2 class="font-serif text-xl text-accent-brown mb-6">メニューリスト</h2>

        <!-- Category Tabs -->
        <div class="flex flex-wrap gap-2 pb-4">
          <button class="list-tab active px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="all">すべて</button>
          <button class="list-tab px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="single">一品料理</button>
          <button class="list-tab px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="main">主菜</button>
          <button class="list-tab px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="side">副菜</button>
          <button class="list-tab px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="salad">サラダ</button>
          <button class="list-tab px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="small">ちょこっと一品</button>
          <button class="list-tab px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="other">その他</button>
          <button class="list-tab px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="eatingout">外食</button>
          <button class="list-tab px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors"
            data-category="takeout">テイクアウト</button>
        </div>

        <!-- List Content -->
        <div id="menu-list-grid" class="space-y-4">
          <!-- Menu items will be generated by JavaScript -->
        </div>

        <!-- Empty State -->
        <div id="list-empty" class="hidden text-center py-16">
          <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-main/50 flex items-center justify-center">
            <svg class="w-10 h-10 text-accent-brown/50" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
            </svg>
          </div>
          <p class="text-text-light">まだ記録がありません</p>
        </div>
      </section>

      <!-- Page: Chat -->
      <section id="page-chat" class="page px-4 py-6">
        <h2 class="font-serif text-xl text-accent-brown mb-6">今日のご飯相談</h2>

        <!-- Character Select -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-text-light mb-3">相談するパートナー</label>
          <div id="chat-character-select" class="flex flex-wrap gap-3 pb-2">
            <!-- Character options will be generated by JavaScript -->
          </div>
        </div>

        <!-- Chat Messages -->
        <div id="chat-messages" class="bg-white rounded-3xl shadow-soft p-4 h-80 overflow-y-auto mb-4 space-y-4">
          <!-- Messages will be generated by JavaScript -->
          <div id="chat-welcome" class="text-center py-8">
            <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-main/50 flex items-center justify-center">
              <svg class="w-8 h-8 text-accent-brown" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
              </svg>
            </div>
            <p class="text-sm text-text-light">キャラクターを選んで<br>今日のご飯を相談しよう♪</p>
          </div>
        </div>

        <!-- Chat Input -->
        <div class="flex gap-3">
          <input type="text" id="chat-input"
            class="flex-1 px-4 py-3 bg-white rounded-2xl border border-main/30 focus:border-accent-pink focus:ring-2 focus:ring-accent-pink/20 outline-none transition-all text-sm"
            placeholder="メッセージを入力...">
          <button id="chat-send"
            class="w-12 h-12 bg-gradient-to-r from-accent-pink to-main rounded-2xl flex items-center justify-center shadow-soft hover:shadow-soft-lg transition-all">
            <svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
            </svg>
          </button>
        </div>

        <!-- Chat History Section (hidden in conceal mode) -->
        <div id="chat-history-section" class="mt-6">
          <h3 class="text-sm font-medium text-text-light mb-3">📋 過去の相談履歴</h3>
          <div id="chat-history-list" class="bg-white rounded-2xl shadow-soft max-h-48 overflow-y-auto">
            <!-- History items will be generated by JavaScript -->
          </div>
        </div>
      </section>

      <!-- Page: Settings -->
      <section id="page-settings" class="page px-4 py-6">
        <h2 class="font-serif text-xl text-accent-brown mb-6">設定</h2>

        <!-- Conceal Mode (Simple Mode) -->
        <div class="bg-white rounded-3xl shadow-soft p-6 mb-4">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="font-medium text-text">シンプルモード</h3>
              <p class="text-xs text-text-light mt-1">キャラクターコメントを非表示にします</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" id="conceal-mode-toggle" class="sr-only peer">
              <div
                class="w-11 h-6 bg-main/40 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-pink">
              </div>
            </label>
          </div>
        </div>

        <!-- Theme Selector -->
        <div class="bg-white rounded-3xl shadow-soft p-6 mb-4">
          <h3 class="font-medium text-text mb-4">🎨 着せ替えテーマ</h3>
          <select id="theme-select"
            class="w-full px-4 py-3 bg-base rounded-2xl border border-main/30 focus:border-accent-pink outline-none text-sm">
            <option value="latte">☕️ ラテ・ベージュ</option>
            <option value="yumekawa">🦄 ゆめかわ×デジタル 👾</option>
            <option value="midnight">🌙 ミッドナイト（夜用）</option>
          </select>
        </div>
        <!-- API Key Setting -->
        <div class="bg-white rounded-3xl shadow-soft p-6 mb-4">
          <h3 class="font-medium text-text mb-4">APIキー設定</h3>
          <div class="space-y-4">
            <div>
              <label for="api-key-input" class="block text-sm text-text-light mb-2">Google AI Studio APIキー</label>
              <input type="password" id="api-key-input"
                class="w-full px-4 py-3 bg-base rounded-2xl border border-main/30 focus:border-accent-pink focus:ring-2 focus:ring-accent-pink/20 outline-none transition-all text-sm"
                placeholder="APIキーを入力...">
            </div>
            <button id="save-api-key"
              class="w-full py-3 bg-main hover:bg-main-dark rounded-2xl text-text font-medium transition-colors">
              保存する
            </button>
          </div>
        </div>

        <!-- Model Settings -->
        <div class="bg-white rounded-3xl shadow-soft p-6 mb-4">
          <h3 class="font-medium text-text mb-2">モデル設定</h3>
          <p class="text-xs text-text-light mb-4">エラー時は自動で次のモデルを試行します</p>
          <div id="model-list" class="space-y-2">
            <!-- Model list will be generated by JavaScript -->
          </div>
        </div>

        <!-- Character Icons -->
        <div class="bg-white rounded-3xl shadow-soft p-6 mb-4">
          <h3 class="font-medium text-text mb-4">キャラクターアイコン設定</h3>
          <div id="character-icons-grid" class="grid grid-cols-3 gap-4">
            <!-- Character icons will be generated by JavaScript -->
          </div>
        </div>

        <!-- Character Prompts -->
        <div class="bg-white rounded-3xl shadow-soft p-6 mb-4">
          <h3 class="font-medium text-text mb-4">キャラクター設定（プロンプト）</h3>
          <div class="space-y-4">
            <select id="prompt-character-select"
              class="w-full px-4 py-3 bg-base rounded-2xl border border-main/30 focus:border-accent-pink outline-none text-sm">
              <!-- Options will be generated by JavaScript -->
            </select>
            <textarea id="prompt-textarea"
              class="w-full h-40 p-4 bg-base rounded-2xl border border-main/30 focus:border-accent-pink focus:ring-2 focus:ring-accent-pink/20 outline-none transition-all resize-none text-sm"
              placeholder="キャラクター設定を入力..."></textarea>
            <button id="save-prompt"
              class="w-full py-3 bg-main hover:bg-main-dark rounded-2xl text-text font-medium transition-colors">
              プロンプトを保存
            </button>
          </div>
        </div>

        <!-- Data Management -->
        <div class="bg-white rounded-3xl shadow-soft p-6">
          <h3 class="font-medium text-text mb-4">データ管理</h3>
          <div class="space-y-3">
            <button id="export-data"
              class="w-full py-3 bg-accent-green/20 hover:bg-accent-green/30 rounded-2xl text-text font-medium transition-colors">
              データをエクスポート
            </button>
            <button id="import-data"
              class="w-full py-3 bg-accent-beige/30 hover:bg-accent-beige/50 rounded-2xl text-text font-medium transition-colors">
              データをインポート
            </button>
            <button id="clear-data"
              class="w-full py-3 bg-accent-pink/20 hover:bg-accent-pink/30 rounded-2xl text-accent-pink font-medium transition-colors">
              すべてのデータを削除
            </button>
          </div>
        </div>
      </section>

    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-main/20 z-50">
      <div class="max-w-lg mx-auto flex justify-around py-2">
        <button class="nav-item active flex flex-col items-center py-2 px-4" data-page="calendar">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          <span class="text-xs mt-1">ホーム</span>
        </button>
        <button class="nav-item flex flex-col items-center py-2 px-4" data-page="list">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
          </svg>
          <span class="text-xs mt-1">リスト</span>
        </button>
        <button class="nav-item flex flex-col items-center py-2 px-4" data-page="chat">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
          </svg>
          <span class="text-xs mt-1">相談</span>
        </button>
        <button class="nav-item flex flex-col items-center py-2 px-4" data-page="settings">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <span class="text-xs mt-1">設定</span>
        </button>
      </div>
    </nav>

    <!-- Loading Overlay -->
    <div id="loading-overlay"
      class="fixed inset-0 bg-base/80 backdrop-blur-sm z-50 flex items-center justify-center hidden">
      <div class="text-center">
        <div class="w-16 h-16 mx-auto mb-4 relative">
          <div class="absolute inset-0 rounded-full border-4 border-main"></div>
          <div class="absolute inset-0 rounded-full border-4 border-accent-pink border-t-transparent animate-spin">
          </div>
        </div>
        <p id="loading-text" class="text-sm text-text-light">処理中...</p>
      </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast"
      class="fixed top-20 left-1/2 -translate-x-1/2 bg-text text-white px-6 py-3 rounded-2xl shadow-soft-lg z-50 opacity-0 pointer-events-none transition-opacity text-sm">
      <span id="toast-message"></span>
    </div>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 hidden">
      <div class="bg-white rounded-3xl w-full max-w-sm p-6 shadow-soft-lg">
        <h3 id="modal-title" class="font-medium text-lg text-text mb-4"></h3>
        <div id="modal-content" class="mb-6"></div>
        <div id="modal-actions" class="flex gap-3">
          <button id="modal-cancel"
            class="flex-1 py-3 bg-base rounded-2xl text-text font-medium hover:bg-main/30 transition-colors">
            キャンセル
          </button>
          <button id="modal-confirm"
            class="flex-1 py-3 bg-accent-pink rounded-2xl text-white font-medium hover:bg-accent-pink/80 transition-colors">
            確認
          </button>
        </div>
      </div>
    </div>

  </div>

  <!-- JavaScript -->
  <!-- JavaScript -->
  <script src="app.js"></script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .then(reg => console.log('Service Worker registered!', reg))
          .catch(err => console.log('Service Worker registration failed: ', err));
      });
    }
  </script>
</body>

</html>